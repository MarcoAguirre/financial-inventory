<section class="product-form">
  <h1>Formulario de Registro</h1>
  <hr />

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-field">
      <label for="id">ID</label>
      <input id="id" type="text" formControlName="id" />
      <div
        *ngIf="form.get('id')?.invalid && form.get('id')?.touched"
        class="error"
      >
        <small *ngIf="form.get('id')?.errors?.['required']"
          >El ID es requerido.</small
        >
        <small *ngIf="form.get('id')?.errors?.['minlength']"
          >Debe tener al menos 3 caracteres.</small
        >
        <small *ngIf="form.get('id')?.errors?.['maxlength']"
          >Máximo 10 caracteres.</small
        >
        <small *ngIf="form.get('id')?.errors?.['idExists']"
          >Este ID ya existe.</small
        >
      </div>
    </div>

    <div class="form-field">
      <label for="name">Nombre</label>
      <input id="name" type="text" formControlName="name" />
      <div
        *ngIf="form.get('name')?.invalid && form.get('name')?.touched"
        class="error"
      >
        <small *ngIf="form.get('name')?.errors?.['required']"
          >El nombre es requerido.</small
        >
        <small *ngIf="form.get('name')?.errors?.['minlength']"
          >Debe tener al menos 5 caracteres.</small
        >
        <small *ngIf="form.get('name')?.errors?.['maxlength']"
          >Máximo 100 caracteres.</small
        >
      </div>
    </div>

    <div class="form-field">
      <label for="description">Descripción</label>
      <textarea id="description" formControlName="description"></textarea>
      <div
        *ngIf="form.get('description')?.invalid && form.get('description')?.touched"
        class="error"
      >
        <small *ngIf="form.get('description')?.errors?.['required']"
          >Este campo es requerido.</small
        >
        <small *ngIf="form.get('description')?.errors?.['minlength']"
          >Debe tener al menos 10 caracteres.</small
        >
        <small *ngIf="form.get('description')?.errors?.['maxlength']"
          >Máximo 200 caracteres.</small
        >
      </div>
    </div>

    <div class="form-field">
      <label for="logo">Logo (URL)</label>
      <input id="logo" type="text" formControlName="logo" />
      <div
        *ngIf="form.get('logo')?.invalid && form.get('logo')?.touched"
        class="error"
      >
        <small *ngIf="form.get('logo')?.errors?.['required']"
          >Este campo es requerido.</small
        >
      </div>
    </div>

    <div class="form-field">
      <label for="date_release">Fecha de liberación</label>
      <input id="date_release" type="date" formControlName="date_release" />
      <div
        *ngIf="form.get('date_release')?.invalid && form.get('date_release')?.touched"
        class="error"
      >
        <small *ngIf="form.get('date_release')?.errors?.['required']"
          >Este campo es requerido.</small
        >
      </div>
    </div>

    <div class="form-field">
      <label for="date_revision">Fecha de revisión</label>
      <input id="date_revision" type="date" formControlName="date_revision" />
      <div
        *ngIf="form.get('date_revision')?.invalid && form.get('date_revision')?.touched"
        class="error"
      >
        <small *ngIf="form.get('date_revision')?.errors?.['required']"
          >Este campo es requerido.</small
        >
      </div>
    </div>

    <div class="form-buttons">
      <button type="submit" [disabled]="form.invalid">Agregar</button>
      <button type="button" (click)="onReset()">Reiniciar</button>
      <button type="button" (click)="onCancel()">Cancelar</button>
    </div>
  </form>
</section>
